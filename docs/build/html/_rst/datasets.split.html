<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>datasets.split package &mdash; open-mimic-iii - documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=92fd9be5" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=b1628c55"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="generators package" href="generators.html" />
    <link rel="prev" title="datasets.processors package" href="datasets.processors.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            open-mimic-iii
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="datasets.html">datasets package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="datasets.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="datasets.extraction.html">datasets.extraction package</a></li>
<li class="toctree-l3"><a class="reference internal" href="datasets.processors.html">datasets.processors package</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">datasets.split package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-datasets.split.splitters">datasets.split.splitters module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-datasets.split">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="datasets.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.html#module-datasets.discretizing">datasets.discretizing module</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.html#module-datasets.mimic_utils">datasets.mimic_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.html#module-datasets.readers">datasets.readers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.html#module-datasets.trackers">datasets.trackers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.html#module-datasets.writers">datasets.writers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.html#module-datasets">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="generators.html">generators package</a></li>
<li class="toctree-l1"><a class="reference internal" href="metrics.html">metrics package</a></li>
<li class="toctree-l1"><a class="reference internal" href="models.html">models package</a></li>
<li class="toctree-l1"><a class="reference internal" href="pipelines.html">pipelines package</a></li>
<li class="toctree-l1"><a class="reference internal" href="preprocessing.html">preprocessing package</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">open-mimic-iii</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="datasets.html">datasets package</a></li>
      <li class="breadcrumb-item active">datasets.split package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/_rst/datasets.split.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="datasets-split-package">
<h1>datasets.split package<a class="headerlink" href="#datasets-split-package" title="Link to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-datasets.split.splitters">
<span id="datasets-split-splitters-module"></span><h2>datasets.split.splitters module<a class="headerlink" href="#module-datasets.split.splitters" title="Link to this heading"></a></h2>
<section id="data-splitting-module">
<h3>Data Splitting Module<a class="headerlink" href="#data-splitting-module" title="Link to this heading"></a></h3>
<p>This module provides classes for splitting datasets into training, validation, and test sets.
The splits can be performed based on predefined ratios or by demographic groups.
This feature is useful for creating willfully biased datasets or inducing concept drift.</p>
<section id="classes">
<h4>Classes<a class="headerlink" href="#classes" title="Link to this heading"></a></h4>
<ul class="simple">
<li><dl class="simple">
<dt>AbstractSplitter(max_iter, tolerance)</dt><dd><p>Provides abstract methods for splitting datasets.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ReaderSplitter(max_iter, tolerance)</dt><dd><p>Splits datasets loaded by a reader based on specified criteria.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>CompactSplitter(max_iter, tolerance)</dt><dd><p>Splits dictionaries containing data based on specified criteria.</p>
</dd>
</dl>
</li>
</ul>
</section>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="datasets.split.splitters.AbstractSplitter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">datasets.split.splitters.</span></span><span class="sig-name descname"><span class="pre">AbstractSplitter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_iter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.005</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datasets/split/splitters.html#AbstractSplitter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.split.splitters.AbstractSplitter" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></p>
<p>Abstract base class for data splitting. Implements methods used for reader and dictionary splitting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_iter</strong> (<em>int</em><em>, </em><em>optional</em>) – Maximum number of iterations for ratio-based splitting. Default is 100.</p></li>
<li><p><strong>tolerance</strong> (<em>float</em><em>, </em><em>optional</em>) – Tolerance level for ratio deviations. Default is 0.005.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="datasets.split.splitters.CompactSplitter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">datasets.split.splitters.</span></span><span class="sig-name descname"><span class="pre">CompactSplitter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_iter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.005</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datasets/split/splitters.html#CompactSplitter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.split.splitters.CompactSplitter" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#datasets.split.splitters.AbstractSplitter" title="datasets.split.splitters.AbstractSplitter"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractSplitter</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="datasets.split.splitters.CompactSplitter.split_dict">
<span class="sig-name descname"><span class="pre">split_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_subjects</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_subjects</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">demographic_split</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">demographic_filter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datasets/split/splitters.html#CompactSplitter.split_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.split.splitters.CompactSplitter.split_dict" title="Link to this definition"></a></dt>
<dd><p>Not yet implemented</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="datasets.split.splitters.ReaderSplitter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">datasets.split.splitters.</span></span><span class="sig-name descname"><span class="pre">ReaderSplitter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_iter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.005</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datasets/split/splitters.html#ReaderSplitter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.split.splitters.ReaderSplitter" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#datasets.split.splitters.AbstractSplitter" title="datasets.split.splitters.AbstractSplitter"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractSplitter</span></code></a></p>
<p>Splits datasets reader based either by set ratios or demgoraphic groups.</p>
<dl class="py method">
<dt class="sig sig-object py" id="datasets.split.splitters.ReaderSplitter.split_reader">
<span class="sig-name descname"><span class="pre">split_reader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reader</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="datasets.html#datasets.readers.ProcessedSetReader" title="datasets.readers.ProcessedSetReader"><span class="pre">ProcessedSetReader</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">demographic_split</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">demographic_filter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">storage_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/datasets/split/splitters.html#ReaderSplitter.split_reader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datasets.split.splitters.ReaderSplitter.split_reader" title="Link to this definition"></a></dt>
<dd><p>Splits the dataset into training, validation, and test sets. The attribute can be found in the split_info_df.csv file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reader</strong> (<a class="reference internal" href="datasets.html#datasets.readers.ProcessedSetReader" title="datasets.readers.ProcessedSetReader"><em>ProcessedSetReader</em></a>) – Reader object to load the dataset.</p></li>
<li><p><strong>test_size</strong> (<em>float</em><em>, </em><em>optional</em>) – Proportion of the dataset to include in the test split. Default is 0.0.</p></li>
<li><p><strong>val_size</strong> (<em>float</em><em>, </em><em>optional</em>) – Proportion of the dataset to include in the validation split. Default is 0.0.</p></li>
<li><p><strong>train_size</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of samples to include in the training split. If specified, overrides the proportion-based split for training set. Default is None.</p></li>
<li><p><strong>demographic_split</strong> (<em>dict</em><em>, </em><em>optional</em>) – Dictionary specifying demographic criteria for splitting the dataset. Default is None.</p></li>
<li><p><strong>demographic_filter</strong> (<em>dict</em><em>, </em><em>optional</em>) – Dictionary specifying demographic criteria for filtering the dataset before splitting. Default is None.</p></li>
<li><p><strong>storage_path</strong> (<em>Path</em><em>, </em><em>optional</em>) – Path to the directory where the split information will be saved. Default is None, which uses the reader’s root path.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Reader object for the split dataset.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="datasets.html#datasets.readers.SplitSetReader" title="datasets.readers.SplitSetReader">SplitSetReader</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-datasets.split">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-datasets.split" title="Link to this heading"></a></h2>
<section id="id1">
<h3>Data Splitting Module<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<p>This module provides functionality to split datasets into training, validation, and test sets.
Splits can be performed based on predefined ratios or demographic filters, and the module
supports both dictionary-based and reader-based dataset structures.</p>
<section id="functions">
<h4>Functions<a class="headerlink" href="#functions" title="Link to this heading"></a></h4>
<ul class="simple">
<li><dl class="simple">
<dt>train_test_split(X_subjects, y_subjects, test_size, val_size, train_size, demographic_split, demographic_filter, source_path)</dt><dd><p>Splits the dictionary-based dataset into training, validation, and test sets.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>train_test_split(reader, test_size, val_size, train_size, demographic_split, demographic_filter, storage_path)</dt><dd><p>Splits the reader-based dataset into training, validation, and test sets.</p>
</dd>
</dl>
</li>
</ul>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Split a reader by ratio</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reader</span> <span class="o">=</span> <span class="n">ProcessedSetReader</span><span class="p">(</span><span class="n">root_path</span><span class="o">=</span><span class="s2">&quot;/path/to/data&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">split_reader</span> <span class="o">=</span> <span class="n">ReaderSplitter</span><span class="p">()</span><span class="o">.</span><span class="n">split_reader</span><span class="p">(</span><span class="n">reader</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">val_size</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">split_reader</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">subject_ids</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span> <span class="o">...</span> <span class="p">]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Split a reader by demographics with ratio control</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">demographic_split</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;test&quot;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;AGE&quot;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">... </span>            <span class="s2">&quot;greater&quot;</span><span class="p">:</span> <span class="mi">60</span>
<span class="gp">... </span>        <span class="p">}</span>
<span class="gp">... </span>    <span class="p">},</span>
<span class="gp">... </span>    <span class="s2">&quot;val&quot;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;AGE&quot;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">... </span>            <span class="s2">&quot;leq&quot;</span><span class="p">:</span> <span class="mi">60</span><span class="p">,</span>
<span class="gp">... </span>            <span class="s2">&quot;greater&quot;</span><span class="p">:</span> <span class="mi">40</span>
<span class="gp">... </span>        <span class="p">}</span>
<span class="gp">... </span>    <span class="p">}</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">split_reader</span> <span class="o">=</span> <span class="n">ReaderSplitter</span><span class="p">()</span><span class="o">.</span><span class="n">split_reader</span><span class="p">(</span><span class="n">reader</span><span class="p">,</span>
<span class="gp">... </span>                                             <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span>
<span class="gp">... </span>                                             <span class="n">val_size</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
<span class="gp">... </span>                                             <span class="n">demographic_split</span><span class="o">=</span><span class="n">demographic_split</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">split_reader</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">subject_ids</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span> <span class="o">...</span> <span class="p">]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Or split a reader by demographics only</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">demographic_split</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;test&quot;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;AGE&quot;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">... </span>            <span class="s2">&quot;greater&quot;</span><span class="p">:</span> <span class="mi">60</span>
<span class="gp">... </span>        <span class="p">}</span>
<span class="gp">... </span>    <span class="p">},</span>
<span class="gp">... </span>    <span class="s2">&quot;val&quot;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;AGE&quot;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">... </span>            <span class="s2">&quot;leq&quot;</span><span class="p">:</span> <span class="mi">60</span><span class="p">,</span>
<span class="gp">... </span>            <span class="s2">&quot;greater&quot;</span><span class="p">:</span> <span class="mi">40</span>
<span class="gp">... </span>        <span class="p">}</span>
<span class="gp">... </span>    <span class="p">}</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">split_reader</span> <span class="o">=</span> <span class="n">ReaderSplitter</span><span class="p">()</span><span class="o">.</span><span class="n">split_reader</span><span class="p">(</span><span class="n">demographic_split</span><span class="o">=</span><span class="n">demographic_split</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Reduce a reader to a subdemographic and split by ratio</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">demographic_filter</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;AGE&quot;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;greater&quot;</span><span class="p">:</span> <span class="mi">60</span>
<span class="gp">... </span>    <span class="p">}</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">split_reader</span> <span class="o">=</span> <span class="n">ReaderSplitter</span><span class="p">()</span><span class="o">.</span><span class="n">split_reader</span><span class="p">(</span><span class="n">reader</span><span class="p">,</span>
<span class="gp">... </span>                                             <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span>
<span class="gp">... </span>                                             <span class="n">val_size</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
<span class="gp">... </span>                                             <span class="n">demographic_split</span><span class="o">=</span><span class="n">demographic_split</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Demographic split with categorical attribute</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">demographic_split</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;test&quot;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;GENDER&quot;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">... </span>            <span class="s2">&quot;choice&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;M&quot;</span><span class="p">]</span>
<span class="gp">... </span>        <span class="p">}</span>
<span class="gp">... </span>    <span class="p">},</span>
<span class="gp">... </span>    <span class="s2">&quot;val&quot;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;GENDER&quot;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">... </span>            <span class="s2">&quot;choice&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;F&quot;</span><span class="p">]</span>
<span class="gp">... </span>        <span class="p">}</span>
<span class="gp">... </span>    <span class="p">}</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">split_reader</span> <span class="o">=</span> <span class="n">ReaderSplitter</span><span class="p">()</span><span class="o">.</span><span class="n">split_reader</span><span class="p">(</span><span class="n">reader</span><span class="p">,</span>
<span class="gp">... </span>                                             <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span>
<span class="gp">... </span>                                             <span class="n">val_size</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
<span class="gp">... </span>                                             <span class="n">demographic_split</span><span class="o">=</span><span class="n">demographic_split</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="datasets.processors.html" class="btn btn-neutral float-left" title="datasets.processors package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="generators.html" class="btn btn-neutral float-right" title="generators package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Amadou Wolfgang Cisse.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>